{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport validateLogin from './validateLogin';\nimport { AuthContext } from '../Contexts/AuthorizationContext';\n\nconst useLogin = callback => {\n  _s();\n\n  const [values, setValues] = useState({\n    email: '',\n    password: ''\n  });\n  const {\n    loggedIn,\n    setLoggedIn\n  } = React.useContext(AuthContext);\n  const [errors, setErrors] = useState({});\n  const [isLogginIn, setIsLoggingIn] = useState(false);\n\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setErrors(validateLogin(values));\n    setIsLoggingIn(true); //API Call\n  };\n\n  useEffect(() => {\n    if (Object.keys(errors).length === 0 && isLogginIn) {\n      callback();\n      setLoggedIn(true);\n    }\n  }, [errors]);\n  return {\n    handleChange,\n    values,\n    handleSubmit,\n    errors\n  };\n};\n\n_s(useLogin, \"CtmvXfAQirtDX1oXHHMKCWbKg+U=\");\n\nexport default useLogin;","map":{"version":3,"sources":["/Users/michaelcristiano/Desktop/my-app/src/Forms/useLogin.js"],"names":["React","useState","useEffect","validateLogin","AuthContext","useLogin","callback","values","setValues","email","password","loggedIn","setLoggedIn","useContext","errors","setErrors","isLogginIn","setIsLoggingIn","handleChange","e","name","value","target","handleSubmit","preventDefault","Object","keys","length"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,SAAQC,WAAR,QAA0B,kCAA1B;;AAEA,MAAMC,QAAQ,GAAGC,QAAQ,IAAI;AAAA;;AACzB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBP,QAAQ,CAAC;AACjCQ,IAAAA,KAAK,EAAE,EAD0B;AAEjCC,IAAAA,QAAQ,EAAC;AAFwB,GAAD,CAApC;AAIA,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA;AAAZ,MAA4BZ,KAAK,CAACa,UAAN,CAAiBT,WAAjB,CAAlC;AAEA,QAAM,CAACU,MAAD,EAASC,SAAT,IAAsBd,QAAQ,CAAC,EAAD,CAApC;AACA,QAAM,CAACe,UAAD,EAAaC,cAAb,IAA+BhB,QAAQ,CAAC,KAAD,CAA7C;;AAEA,QAAMiB,YAAY,GAAGC,CAAC,IAAI;AACtB,UAAK;AAACC,MAAAA,IAAD;AAAOC,MAAAA;AAAP,QAAgBF,CAAC,CAACG,MAAvB;AACAd,IAAAA,SAAS,CAAC,EACN,GAAGD,MADG;AAEN,OAACa,IAAD,GAAQC;AAFF,KAAD,CAAT;AAIH,GAND;;AAQA,QAAME,YAAY,GAAGJ,CAAC,IAAG;AACrBA,IAAAA,CAAC,CAACK,cAAF;AACAT,IAAAA,SAAS,CAACZ,aAAa,CAACI,MAAD,CAAd,CAAT;AACAU,IAAAA,cAAc,CAAC,IAAD,CAAd,CAHqB,CAIrB;AACH,GALD;;AAOAf,EAAAA,SAAS,CAAE,MAAM;AACb,QAAGuB,MAAM,CAACC,IAAP,CAAYZ,MAAZ,EAAoBa,MAApB,KAA+B,CAA/B,IAAoCX,UAAvC,EAAkD;AAC9CV,MAAAA,QAAQ;AACRM,MAAAA,WAAW,CAAC,IAAD,CAAX;AACH;AACJ,GALQ,EAKN,CAACE,MAAD,CALM,CAAT;AAOA,SAAO;AAACI,IAAAA,YAAD;AAAeX,IAAAA,MAAf;AAAuBgB,IAAAA,YAAvB;AAAqCT,IAAAA;AAArC,GAAP;AAEH,CAlCD;;GAAMT,Q;;AAoCN,eAAeA,QAAf","sourcesContent":["import React, {useState, useEffect} from 'react'\nimport validateLogin from './validateLogin'\nimport {AuthContext} from '../Contexts/AuthorizationContext'\n\nconst useLogin = callback => {\n    const [values, setValues] = useState({\n        email: '',\n        password:''\n    })\n    const { loggedIn, setLoggedIn } = React.useContext(AuthContext);\n\n    const [errors, setErrors] = useState({});\n    const [isLogginIn, setIsLoggingIn] = useState(false);\n\n    const handleChange = e => {\n        const{name, value} = e.target\n        setValues({\n            ...values,\n            [name]: value\n        })\n    }\n\n    const handleSubmit = e =>{\n        e.preventDefault();\n        setErrors(validateLogin(values))\n        setIsLoggingIn(true)\n        //API Call\n    }\n\n    useEffect( () => {\n        if(Object.keys(errors).length === 0 && isLogginIn){\n            callback()\n            setLoggedIn(true)\n        }\n    }, [errors])\n\n    return {handleChange, values, handleSubmit, errors}\n\n}\n\nexport default useLogin"]},"metadata":{},"sourceType":"module"}